<!DOCTYPE HTML>
<!--
    Editorial by HTML5 UP
    html5up.net | @ajlkn
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
    <head>
        <title>Exploring the Amiga - Part 5 - The Digital Cat</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <!--[if lte IE 8]><script src="http://blog.thedigitalcatonline.com/theme/js/ie/html5shiv.js"></script><![endif]-->
        <link rel="stylesheet" href="http://blog.thedigitalcatonline.com/theme/css/main.css" />

        <!-- Pygments CSS START -->
        <link rel="stylesheet" href="http://blog.thedigitalcatonline.com/theme/css/pygments/monokai.css">
        <!-- Pygments CSS END -->

        <link href="http://blog.thedigitalcatonline.com/images/TheDigitalCat_favicon_32.png" rel="icon">

        <!--[if lte IE 9]><link rel="stylesheet" href="http://blog.thedigitalcatonline.com/theme/css/ie9.css" /><![endif]-->
        <!--[if lte IE 8]><link rel="stylesheet" href="http://blog.thedigitalcatonline.com/theme/css/ie8.css" /><![endif]-->

        <!-- Google Analytics Universal -->
            <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
                ga('create', 'UA-74364524-1', 'auto');
                ga('send', 'pageview');
            </script>
        <!-- End Google Analytics Universal Code -->
    </head>
    <body>

        <!-- Wrapper -->
            <div id="wrapper">

                <!-- Main -->
                    <div id="main">
                        <div class="inner ">

    <header id="header">
        <a href="http://blog.thedigitalcatonline.com/category/retro/" title="Retro">Retro</a>
        <div class="align-right">        
            <a href="#series">Exploring the Amiga</a> part 5/8
        </div>
    </header>
    

    <article class="post">
        <header class="page-header">
            <h1>Exploring the Amiga - Part 5</h1>
        </header>

        <section id="tags" class="align-center">
            <a class="button special small" href="http://blog.thedigitalcatonline.com/categories/assembly/">assembly</a>            <a class="button special small" href="http://blog.thedigitalcatonline.com/categories/amiga/">amiga</a>            <a class="button special small" href="http://blog.thedigitalcatonline.com/categories/retroprogramming/">retroprogramming</a>        </section>

        <section id="author" class="align-center">
                By
                <a href="http://blog.thedigitalcatonline.com/authors/leonardo-giordani/">Leonardo Giordani</a>
                <span class="separator">•</span>

            Published on
            <time datetime="2018-06-25T12:00:00+01:00"> 25/06/2018</time>

                Last update on
                <time datetime="2019-02-12T20:00:00+00:00"> 12/02/2019</time>
                <span class="separator">•</span>
        </section>

        <section id="content">
            <p>Memory management is always one of the most rich and complex parts of an architecture, mainly because the available amount of memory is always less than what you would like to have. <a href="https://users.ece.cmu.edu/~koopman/titan/rules.html">Always</a>.</p>
<p>It is also an interesting topic because memory is generally managed by both the hardware and the software. The microprocessor may provide a memory management unit (MMU) that enforces a specific schema and the software has to implement its own algorithms on top of that.</p>
<p>The Amiga originally run on a Motorola 68k, which doesn't provide any memory management in hardware. This means that there is no way for the processor to block attempts to read memory by a process, a feature that wasn't present on the first Intel x86 processors as well. Intel "solved" the issue with the introduction of the protected mode in the 386 family (even though an initial version was already present on the 286 processors). Motorola provided external MMUs for the 68010 and 68020, while the 68030 and later processor feature an on-chip MMU. </p>
<p>The Motorola 68k is a 32-bit processor, thus registers and the address bus have that size. The memory, however, is connected to only 24 of the 32 lines of the bus, which means that the total memory space addressable by the processor is a 24-bit space, that gives 16 Megabytes instead of the possible 4 Gigabytes. That amount of memory was however enough for the period when the Amiga was designed. Consider that the most successful model of Amiga, the Amiga 500, had 500 KBytes of memory, sometimes increased to 1 Megabyte through a memory expansion.</p>
<p>The lack of a memory scheme enforced by the processor means that at boot time the memory is just a flat area that can be addressed directly. As we saw in the previous instalments Exec creates its own structure in memory, generating the library node and creating the library jump table. This happens in the bigger picture of the machine initialisation, and one of the tasks performed during this initialisation is the setup of the memory management structures.</p>
<h1 id="the-exec-base-address">The Exec base address<a class="headerlink" href="#the-exec-base-address" title="Permanent link">&para;</a></h1>
<p>Every Amiga programmer knows that address <code>0x4</code> contains the Exec base address, and I showed in past instalments how this is used in conjunction with the jump table to call the library functions.</p>
<p>The reason why the Exec base address is stored there is however seldom mentioned. As a matter of fact that address is not just a random choice.</p>
<p>The Motorola 68000 family reserves the first Kilobyte of memory for exception vectors, that is code that will be executed when something wrong happens. "Wrong" here means bad at hardware level, from a divide by zero to a bus error. This is enforced by the Motorola 68k architecture and thus is a feature shared by other computers and consoles based on it.</p>
<p>The first two of these vectors are actually used when the processor is powering-up (or in general when it resets). And the vector number 1 (the second) at offset <code>0x4</code> is the Reset Initial Program Counter.</p>
<p>After a reset the processor initialises the Program Counter with the address stored at <code>0x4</code> in the memory. When the CPU is switched on, however, the Kickstart ROM is copied in memory, thus the addresses 0 and 4 (first two exception vectors) are the addresses listed in the ROM itself.</p>
<p>The very first 8 bytes of the Kickstart ROM are</p>
<div class="highlight"><pre><span></span><span class="m">00000000: 1111</span>
<span class="m">00000002: 4ef9 00fc 00d2</span>            <span class="k">jmp</span>     <span class="mi">0xfc00d2</span><span class="p">.</span><span class="nl">l</span>
</pre></div>


<p>and you can clearly see that the long word at address <code>0x4</code> is <code>00fc 00d2</code>. This actually corresponds to the address where the initial code of the ROM is</p>
<div class="highlight"><pre><span></span><span class="m">000000d2: 4ff9 0004 0000</span>            <span class="k">lea</span>     <span class="mi">0x40000</span><span class="p">.</span><span class="nl">l</span><span class="p">,</span><span class="nv">sp</span>
</pre></div>


<p>which sets the stack pointer, but I'll keep this analysis for a future post.</p>
<p>The address <code>0x4</code> is then free to be used during the normal execution, since it is used only during a reset, but in that case whatever we wrote there (the Exec base address) is overwritten by the ROM code.</p>
<h1 id="list-headers">List headers<a class="headerlink" href="#list-headers" title="Permanent link">&para;</a></h1>
<p>Exec manages memory and resources using <a href="https://en.wikipedia.org/wiki/Linked_list">linked lists</a>. As you know, to manage a linked list we need the address (pointer) of the head, of the tail, and also of the second-to-last element (the tail predecessor), to allow the tail to be detached and replaced. Actually it is evident that, given the convention that the last node is connected to the address 0, the only value we need is the address of the list head. The two additional addresses, however, can greatly simplify the code that manages the list and can greatly increase the performances, avoiding the need of a complete scan of the list to find the last element every time we want to add something to the end of the list.</p>
<p>The Exec library provides a nice structure to manage lists, <code>LH</code>. The structure is defined in <code>include_i/exec/lists.i</code></p>
<div class="highlight"><pre><span></span>   <span class="nv">STRUCTURE</span>    <span class="s">LH</span><span class="p">,</span><span class="mi">0</span>
    <span class="nv">APTR</span>    <span class="s">LH_HEAD</span>
    <span class="nv">APTR</span>    <span class="s">LH_TAIL</span>
    <span class="nv">APTR</span>    <span class="s">LH_TAILPRED</span>
    <span class="nv">UBYTE</span>   <span class="s">LH_TYPE</span>
    <span class="nv">UBYTE</span>   <span class="s">LH_pad</span>
    <span class="nv">LABEL</span>   <span class="s">LH_SIZE </span><span class="c">;word aligned</span>
</pre></div>


<p>The only two fields that this structure adds compared to the previous description are <code>LH_TYPE</code>, that unsurprisingly contains the type of the data contained in the list, and <code>LH_pad</code> which is nothing but what the name suggests, a padding that allows the structure to be word aligned.</p>
<p>We need now to discover where Exec keeps the header for the memory list. Analysing the <code>ExecBase</code> structure contained in <code>include_i/exec/execbase.i</code> we find the following definitions</p>
<div class="highlight"><pre><span></span><span class="c">******* System List Headers (private!) ********************************</span>

    <span class="nv">STRUCT</span>  <span class="s">MemList</span><span class="p">,</span><span class="s">LH_SIZE</span>
    <span class="nv">STRUCT</span>  <span class="s">ResourceList</span><span class="p">,</span><span class="s">LH_SIZE</span>
    <span class="nv">STRUCT</span>  <span class="s">DeviceList</span><span class="p">,</span><span class="s">LH_SIZE</span>
    <span class="nv">STRUCT</span>  <span class="s">IntrList</span><span class="p">,</span><span class="s">LH_SIZE</span>
    <span class="nv">STRUCT</span>  <span class="s">LibList</span><span class="p">,</span><span class="s">LH_SIZE</span>
    <span class="nv">STRUCT</span>  <span class="s">PortList</span><span class="p">,</span><span class="s">LH_SIZE</span>
    <span class="nv">STRUCT</span>  <span class="s">TaskReady</span><span class="p">,</span><span class="s">LH_SIZE</span>
    <span class="nv">STRUCT</span>  <span class="s">TaskWait</span><span class="p">,</span><span class="s">LH_SIZE</span>
    <span class="nv">STRUCT</span>  <span class="s">SoftInts</span><span class="p">,</span><span class="s">SH_SIZE*5</span>
</pre></div>


<p>which is exactly what we wanted. When Exec installs itself in the first part of the memory it will also initialise these headers to keep track of the corresponding resources.</p>
<p>It is interesting to note, however, that the ExecBase structure described in the include files is not used directly, but is more a description of what the code is going to create. This is a bit different from what higher level languages like C use to do. In C you declare a structure, you reserve memory for it, and then access its fields. In Assembly, ultimately, there is no such a concept as a structure and a field. We have only a (flat) memory and addresses.</p>
<p>Since ExecBase is a description of the structure of Exec once it will be installed in memory it is interesting to run through its fields and annotate the relative address of each of them.</p>
<p>I took the code contained in <code>include_i/exec/execbase.i</code> and I computed the address of each field. The first column contains the relative address inside the structure (thus starting from <code>0x0</code>), while the second column contains the address relative to the Exec base address. As shown in the fourth post the <code>LN</code> and <code>LIB</code> structures fill the first 34 bytes, which is why the following starting address is <code>0x22</code></p>
<div class="highlight"><pre><span></span><span class="nv">0000</span> <span class="mi">0022</span><span class="s">    UWORD   SoftVer </span><span class="c">; kickstart release number (obs.)</span>
<span class="nv">0002</span> <span class="mi">0024</span><span class="s">    WORD    LowMemChkSum    </span><span class="c">; checksum of 68000 trap vectors</span>
<span class="nv">0004</span> <span class="mi">0026</span><span class="s">    ULONG   ChkBase </span><span class="c">; system base pointer complement</span>
<span class="nv">0008</span> <span class="mi">002a</span><span class="s">    APTR    ColdCapture </span><span class="c">; coldstart soft capture vector</span>
<span class="nv">000c</span> <span class="mi">002e</span><span class="s">    APTR    CoolCapture </span><span class="c">; coolstart soft capture vector</span>
<span class="nv">0010</span> <span class="mi">0032</span><span class="s">    APTR    WarmCapture </span><span class="c">; warmstart soft capture vector</span>
<span class="nv">0014</span> <span class="mi">0036</span><span class="s">    APTR    SysStkUpper </span><span class="c">; system stack base   (upper bound)</span>
<span class="nv">0018</span> <span class="mi">003a</span><span class="s">    APTR    SysStkLower </span><span class="c">; top of system stack (lower bound)</span>
<span class="nv">001c</span> <span class="mi">003e</span><span class="s">    ULONG   MaxLocMem   </span><span class="c">; top of chip memory</span>
<span class="nv">0020</span> <span class="mi">0042</span><span class="s">    APTR    DebugEntry  </span><span class="c">; global debugger entry point</span>
<span class="nv">0024</span> <span class="mi">0046</span><span class="s">    APTR    DebugData   </span><span class="c">; global debugger data segment</span>
<span class="nv">0028</span> <span class="mi">004a</span><span class="s">    APTR    AlertData   </span><span class="c">; alert data segment</span>
<span class="nv">002c</span> <span class="mi">004e</span><span class="s">    APTR    MaxExtMem   </span><span class="c">; top of extended mem, or null if none</span>

<span class="nv">0030</span> <span class="mi">0052</span><span class="s">    WORD    ChkSum      </span><span class="c">; for all of the above (minus 2)</span>


<span class="c">******* Interrupt Related ********************************************</span>

    <span class="nv">LABEL</span>   <span class="s">IntVects</span>
<span class="nv">0032</span> <span class="mi">0054</span><span class="s">    STRUCT  IVTBE</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">003e</span> <span class="mi">0060</span><span class="s">    STRUCT  IVDSKBLK</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">004a</span> <span class="mi">006c</span><span class="s">    STRUCT  IVSOFTINT</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">0056</span> <span class="mi">0078</span><span class="s">    STRUCT  IVPORTS</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">0062</span> <span class="mi">0084</span><span class="s">    STRUCT  IVCOPER</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">006e</span> <span class="mi">0090</span><span class="s">    STRUCT  IVVERTB</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">007a</span> <span class="mi">009c</span><span class="s">    STRUCT  IVBLIT</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">0086</span> <span class="mi">00a8</span><span class="s">    STRUCT  IVAUD0</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">0092</span> <span class="mi">00b4</span><span class="s">    STRUCT  IVAUD1</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">009e</span> <span class="mi">00c0</span><span class="s">    STRUCT  IVAUD2</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">00aa</span> <span class="mi">00cc</span><span class="s">    STRUCT  IVAUD3</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">00b6</span> <span class="mi">00d8</span><span class="s">    STRUCT  IVRBF</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">00c2</span> <span class="mi">00e4</span><span class="s">    STRUCT  IVDSKSYNC</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">00ce</span> <span class="mi">00f0</span><span class="s">    STRUCT  IVEXTER</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">00da</span> <span class="mi">00fc</span><span class="s">    STRUCT  IVINTEN</span><span class="p">,</span><span class="s">IV_SIZE</span>
<span class="nv">00e6</span> <span class="mi">0108</span><span class="s">    STRUCT  IVNMI</span><span class="p">,</span><span class="s">IV_SIZE</span>


<span class="c">******* Dynamic System Variables *************************************</span>

<span class="nv">00f2</span> <span class="mi">0114</span><span class="s">    APTR    ThisTask    </span><span class="c">; pointer to current task (readable)</span>

<span class="nv">00f6</span> <span class="mi">0118</span><span class="s">    ULONG   IdleCount   </span><span class="c">; idle counter</span>
<span class="nv">00fa</span> <span class="mi">011c</span><span class="s">    ULONG   DispCount   </span><span class="c">; dispatch counter</span>
<span class="nv">00fe</span> <span class="mi">0120</span><span class="s">    UWORD   Quantum </span><span class="c">; time slice quantum</span>
<span class="nv">0100</span> <span class="mi">0122</span><span class="s">    UWORD   Elapsed </span><span class="c">; current quantum ticks</span>
<span class="nv">0102</span> <span class="mi">0124</span><span class="s">    UWORD   SysFlags    </span><span class="c">; misc internal system flags</span>
<span class="nv">0104</span> <span class="mi">0126</span><span class="s">    BYTE    IDNestCnt   </span><span class="c">; interrupt disable nesting count</span>
<span class="nv">0105</span> <span class="mi">0127</span><span class="s">    BYTE    TDNestCnt   </span><span class="c">; task disable nesting count</span>

<span class="nv">0106</span> <span class="mi">0128</span><span class="s">    UWORD   AttnFlags   </span><span class="c">; special attention flags (readable)</span>

<span class="nv">0108</span> <span class="mi">012a</span><span class="s">    UWORD   AttnResched </span><span class="c">; rescheduling attention</span>
<span class="nv">010a</span> <span class="mi">012c</span><span class="s">    APTR    ResModules  </span><span class="c">; pointer to resident module array</span>
<span class="nv">010e</span> <span class="mi">0130</span><span class="s">    APTR    TaskTrapCode    </span><span class="c">; default task trap routine</span>
<span class="nv">0112</span> <span class="mi">0134</span><span class="s">    APTR    TaskExceptCode  </span><span class="c">; default task exception code</span>
<span class="nv">0116</span> <span class="mi">0138</span><span class="s">    APTR    TaskExitCode    </span><span class="c">; default task exit code</span>
<span class="nv">011a</span> <span class="mi">013c</span><span class="s">    ULONG   TaskSigAlloc    </span><span class="c">; preallocated signal mask</span>
<span class="nv">011e</span> <span class="mi">0140</span><span class="s">    UWORD   TaskTrapAlloc   </span><span class="c">; preallocated trap mask</span>


<span class="c">******* System List Headers (private!) ********************************</span>

<span class="nv">0120</span> <span class="mi">0142</span><span class="s">    STRUCT  MemList</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">012e</span> <span class="mi">0150</span><span class="s">    STRUCT  ResourceList</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">013c</span> <span class="mi">015e</span><span class="s">    STRUCT  DeviceList</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">014a</span> <span class="mi">016c</span><span class="s">    STRUCT  IntrList</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">0158</span> <span class="mi">017a</span><span class="s">    STRUCT  LibList</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">0166</span> <span class="mi">0188</span><span class="s">    STRUCT  PortList</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">0174</span> <span class="mi">0196</span><span class="s">    STRUCT  TaskReady</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">0182</span> <span class="mi">01a4</span><span class="s">    STRUCT  TaskWait</span><span class="p">,</span><span class="s">LH_SIZE</span>
<span class="nv">0190</span> <span class="mi">01b2</span><span class="s">    STRUCT  SoftInts</span><span class="p">,</span><span class="s">SH_SIZE*5</span>

<span class="nv">01e0</span> <span class="mi">0202</span><span class="s">    STRUCT  LastAlert</span><span class="p">,</span><span class="mi">4</span><span class="s">*4</span>

<span class="nv">01f0</span> <span class="mi">0212</span><span class="s">    UBYTE   VBlankFrequency     </span><span class="c">;(readable)</span>
<span class="nv">01f1</span> <span class="mi">0213</span><span class="s">    UBYTE   PowerSupplyFrequency    </span><span class="c">;(readable)</span>

<span class="nv">01f2</span> <span class="mi">0214</span><span class="s">    STRUCT  SemaphoreList</span><span class="p">,</span><span class="s">LH_SIZE</span>

<span class="nv">0200</span> <span class="mi">0222</span><span class="s">    APTR    KickMemPtr  </span><span class="c">; ptr to queue of mem lists</span>
<span class="nv">0204</span> <span class="mi">0226</span><span class="s">    APTR    KickTagPtr  </span><span class="c">; ptr to rom tag queue</span>
<span class="nv">0208</span> <span class="mi">022a</span><span class="s">    APTR    KickCheckSum    </span><span class="c">; checksum for mem and tags</span>

<span class="nv">020c</span> <span class="mi">022e</span><span class="s">    UBYTE ExecBaseReserved</span><span class="err">[</span><span class="mi">10</span><span class="err">]</span><span class="c">;</span>
<span class="mi">0216</span><span class="s"> 0238    UBYTE ExecBaseNewReserved</span><span class="err">[</span><span class="mi">20</span><span class="err">]</span><span class="c">;</span>
<span class="mi">022a</span><span class="s"> 024c    LABEL   SYSBASESIZE</span>
</pre></div>


<p>According to this structure we expect to find the memory list header 322 bytes (<code>0x142</code>) after the base address, which means that this number should be mentioned somewhere in the Kickstart code.</p>
<p>It is not surprise indeed that the function <code>AllocMem</code> mentions it. This function is part of the Exec API that we explored in the third and fourth instalments. Following the same method described there I found the function at the address <code>0x17d0</code> in the Kickstart code</p>
<div class="highlight"><pre><span></span><span class="c">; memoryBlock = AllocMem(byteSize, attributes)</span>
<span class="c">; d0                     d0        d1</span>

<span class="m">000017d0: 522e 0127</span>                 <span class="k">addq.b</span>  <span class="p">#</span><span class="mi">0x1</span><span class="p">,</span><span class="mi">0x127</span><span class="p">(</span><span class="nv">a6</span><span class="p">)</span>
<span class="m">000017d4: 48e7 3020</span>                 <span class="k">movem.l</span> <span class="nv">d2</span><span class="p">-</span><span class="nv">d3</span><span class="p">/</span><span class="nv">a2</span><span class="p">,-(</span><span class="nv">sp</span><span class="p">)</span>
<span class="m">000017d8: 2600</span>                      <span class="k">move.l</span>  <span class="nv">d0</span><span class="p">,</span><span class="nv">d3</span>
<span class="m">000017da: 2401</span>                      <span class="k">move.l</span>  <span class="nv">d1</span><span class="p">,</span><span class="nv">d2</span>
<span class="m">000017dc: 45ee 0142</span>                 <span class="k">lea</span>     <span class="mi">0x142</span><span class="p">(</span><span class="nv">a6</span><span class="p">),</span><span class="nv">a2</span>
<span class="m">000017e0: 2452</span>                      <span class="k">movea.l</span> <span class="p">(</span><span class="nv">a2</span><span class="p">),</span><span class="nv">a2</span><span class="c"></span>
<span class="c">; ...</span>
</pre></div>


<p>and in this initial part of the function we can clearly see the code that loads the effective address of <code>0x142(a6)</code>. Remember that <code>a6</code> is always supposed to contain the Exec base address.</p>
<p>The displacement <code>0x142</code> is also mentioned in a table towards the beginning of the code, and this is the part we are really interested in at the moment</p>
<div class="highlight"><pre><span></span><span class="c">; Initialise list headers</span>

<span class="m">000002b0: 43fa 0020</span>                 <span class="k">lea</span>     <span class="mi">0x2d2</span><span class="p">(</span><span class="nv">pc</span><span class="p">),</span><span class="nv">a1</span>
<span class="m">000002b4: 3019</span>                      <span class="k">move.w</span>  <span class="p">(</span><span class="nv">a1</span><span class="p">)+,</span><span class="nv">d0</span>
<span class="m">000002b6: 6700 0086</span>                 <span class="k">beq.w</span>   <span class="mi">0x33e</span>
<span class="m">000002ba: 41f6 0000</span>                 <span class="k">lea</span>     <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nv">a6</span><span class="p">,</span><span class="nv">d0</span><span class="p">.</span><span class="nl">w</span><span class="p">),</span><span class="nv">a0</span>
<span class="m">000002be: 2088</span>                      <span class="k">move.l</span>  <span class="nv">a0</span><span class="p">,(</span><span class="nv">a0</span><span class="p">)</span>
<span class="m">000002c0: 5890</span>                      <span class="k">addq.l</span>  <span class="p">#</span><span class="mi">0x4</span><span class="p">,(</span><span class="nv">a0</span><span class="p">)</span>
<span class="m">000002c2: 42a8 0004</span>                 <span class="k">clr.l</span>   <span class="mi">0x4</span><span class="p">(</span><span class="nv">a0</span><span class="p">)</span>
<span class="m">000002c6: 2148 0008</span>                 <span class="k">move.l</span>  <span class="nv">a0</span><span class="p">,</span><span class="mi">0x8</span><span class="p">(</span><span class="nv">a0</span><span class="p">)</span>
<span class="m">000002ca: 3019</span>                      <span class="k">move.w</span>  <span class="p">(</span><span class="nv">a1</span><span class="p">)+,</span><span class="nv">d0</span>
<span class="m">000002cc: 1140 000c</span>                 <span class="k">move.b</span>  <span class="nv">d0</span><span class="p">,</span><span class="mi">0xc</span><span class="p">(</span><span class="nv">a0</span><span class="p">)</span>
<span class="m">000002d0: 60e2</span>                      <span class="k">bra.b</span>   <span class="mi">0x2b4</span><span class="c"></span>

<span class="c">; List headers</span>

<span class="m">000002d2: 0142 000a</span>
<span class="m">000002d6: 0150 0008</span>
<span class="m">000002da: 015e 0003</span>
<span class="m">000002de: 017a 0009</span>
<span class="m">000002e2: 0188 0004</span>
<span class="m">000002e6: 0196 0001</span>
<span class="m">000002ea: 01a4 0001</span>
<span class="m">000002ee: 016c 0002</span>
<span class="m">000002f2: 01b2 000b</span>
<span class="m">000002f6: 01c2 000b</span>
<span class="m">000002fa: 01d2 000b</span>
<span class="m">000002fe: 01e2 000b</span>
<span class="m">00000302: 01f2 000b</span>
<span class="m">00000306: 0214 000f</span>
<span class="m">0000030a: 0000</span>
</pre></div>


<p>As you can see I formatted the code to show that the values after <code>02d2</code> are data and not code. The disassembler will obviously show you some instructions but they are just misinterpretations of the binary data. AS it is usual in the Kickstart code, we have some procedure working on a set of data and the data is stored immediately after the code itself. The purpose of this procedure is that of creating the initial headers for the linked lists that Exec will use to manage the system resources.</p>
<p>This table is immediately followed by the table we found in the <a href="http://blog.thedigitalcatonline.com/blog/2018/06/08/exploring-the-amiga-3/">third post</a> of this series, when we were looking at the values of the <code>LIB</code> structure.</p>
<p>Let's comment line by line the code at <code>02b0</code></p>
<div class="highlight"><pre><span></span><span class="c">; Initialise list headers</span>

<span class="m">000002b0: 43fa 0020</span>                 <span class="k">lea</span>     <span class="mi">0x2d2</span><span class="p">(</span><span class="nv">pc</span><span class="p">),</span><span class="nv">a1</span>
<span class="m">000002b4: 3019</span>                      <span class="k">move.w</span>  <span class="p">(</span><span class="nv">a1</span><span class="p">)+,</span><span class="nv">d0</span>
<span class="m">000002b6: 6700 0086</span>                 <span class="k">beq.w</span>   <span class="mi">0x33e</span>
<span class="m">000002ba: 41f6 0000</span>                 <span class="k">lea</span>     <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nv">a6</span><span class="p">,</span><span class="nv">d0</span><span class="p">.</span><span class="nl">w</span><span class="p">),</span><span class="nv">a0</span>
<span class="m">000002be: 2088</span>                      <span class="k">move.l</span>  <span class="nv">a0</span><span class="p">,(</span><span class="nv">a0</span><span class="p">)</span>
<span class="m">000002c0: 5890</span>                      <span class="k">addq.l</span>  <span class="p">#</span><span class="mi">0x4</span><span class="p">,(</span><span class="nv">a0</span><span class="p">)</span>
<span class="m">000002c2: 42a8 0004</span>                 <span class="k">clr.l</span>   <span class="mi">0x4</span><span class="p">(</span><span class="nv">a0</span><span class="p">)</span>
<span class="m">000002c6: 2148 0008</span>                 <span class="k">move.l</span>  <span class="nv">a0</span><span class="p">,</span><span class="mi">0x8</span><span class="p">(</span><span class="nv">a0</span><span class="p">)</span>
<span class="m">000002ca: 3019</span>                      <span class="k">move.w</span>  <span class="p">(</span><span class="nv">a1</span><span class="p">)+,</span><span class="nv">d0</span>
<span class="m">000002cc: 1140 000c</span>                 <span class="k">move.b</span>  <span class="nv">d0</span><span class="p">,</span><span class="mi">0xc</span><span class="p">(</span><span class="nv">a0</span><span class="p">)</span>
<span class="m">000002d0: 60e2</span>                      <span class="k">bra.b</span>   <span class="mi">0x2b4</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="m">000002b0: 43fa 0020</span>                 <span class="k">lea</span>     <span class="mi">0x2d2</span><span class="p">(</span><span class="nv">pc</span><span class="p">),</span><span class="nv">a1</span>
</pre></div>


<p>First of all the code loads the absolute address of <code>0x2d2(pc)</code> in the <code>a1</code> register. This is exactly the beginning of the table, as shown above.</p>
<div class="highlight"><pre><span></span><span class="m">000002b4: 3019</span>                      <span class="k">move.w</span>  <span class="p">(</span><span class="nv">a1</span><span class="p">)+,</span><span class="nv">d0</span>
<span class="m">000002b6: 6700 0086</span>                 <span class="k">beq.w</span>   <span class="mi">0x33e</span>
</pre></div>


<p>The code then loads the first value of the table (<code>0142</code>) in <code>d0</code> and increments <code>a1</code>. This suggests that we are looking at a loop. The following instruction is indeed a comparison that jumps to <code>0x33e</code> is the value is <code>0</code>. You can easily see above that the table is terminated by a <code>0000</code>.</p>
<div class="highlight"><pre><span></span><span class="m">000002ba: 41f6 0000</span>                 <span class="k">lea</span>     <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nv">a6</span><span class="p">,</span><span class="nv">d0</span><span class="p">.</span><span class="nl">w</span><span class="p">),</span><span class="nv">a0</span>
</pre></div>


<p>The register <code>a0</code> is then loaded with the effective address of Exec + <code>d0</code>. This means that we use the value we just read from the table as a pointer. For the first value, then, we are looking at <code>0x142</code> bytes after the beginning of the Exec library, exactly where we expected to find the Memory List header.</p>
<div class="highlight"><pre><span></span><span class="m">000002be: 2088</span>                      <span class="k">move.l</span>  <span class="nv">a0</span><span class="p">,(</span><span class="nv">a0</span><span class="p">)</span>
<span class="m">000002c0: 5890</span>                      <span class="k">addq.l</span>  <span class="p">#</span><span class="mi">0x4</span><span class="p">,(</span><span class="nv">a0</span><span class="p">)</span>
</pre></div>


<p>An empty linked list has the head pointing to the tail and the tail pointing to zero. To do this we set the content of that address <code>(a0)</code> to the address itself (<code>a0</code>), then we increment it by 4 making it point to the tail.</p>
<div class="highlight"><pre><span></span><span class="m">000002c2: 42a8 0004</span>                 <span class="k">clr.l</span>   <span class="mi">0x4</span><span class="p">(</span><span class="nv">a0</span><span class="p">)</span>
<span class="m">000002c6: 2148 0008</span>                 <span class="k">move.l</span>  <span class="nv">a0</span><span class="p">,</span><span class="mi">0x8</span><span class="p">(</span><span class="nv">a0</span><span class="p">)</span>
</pre></div>


<p>The tail itself is then cleared and the tail predecessor is set to be the head.</p>
<div class="highlight"><pre><span></span><span class="m">000002ca: 3019</span>                      <span class="k">move.w</span>  <span class="p">(</span><span class="nv">a1</span><span class="p">)+,</span><span class="nv">d0</span>
<span class="m">000002cc: 1140 000c</span>                 <span class="k">move.b</span>  <span class="nv">d0</span><span class="p">,</span><span class="mi">0xc</span><span class="p">(</span><span class="nv">a0</span><span class="p">)</span>
</pre></div>


<p>The code then fetches the next word from the table (<code>000a</code>) and puts it into a field 12 bytes (<code>0xc</code>) from the beginning of the structure, that is <code>LH_TYPE</code>. The possible values of this byte can be found in <code>include_i/exec/nodes.i</code>, where we find that the value <code>0xa</code> corresponds to <code>NT_MEMORY</code>.</p>
<div class="highlight"><pre><span></span><span class="c">;------ Node Types for LN_TYPE</span>

<span class="nv">NT_UNKNOWN</span>      <span class="k">EQU</span> <span class="mi">0</span>
<span class="nv">NT_TASK</span>         <span class="k">EQU</span> <span class="mi">1</span><span class="s">   </span><span class="c">; Exec task</span>
<span class="nv">NT_INTERRUPT</span>    <span class="k">EQU</span> <span class="mi">2</span>
<span class="nv">NT_DEVICE</span>       <span class="k">EQU</span> <span class="mi">3</span>
<span class="nv">NT_MSGPORT</span>      <span class="k">EQU</span> <span class="mi">4</span>
<span class="nv">NT_MESSAGE</span>      <span class="k">EQU</span> <span class="mi">5</span><span class="s">   </span><span class="c">; Indicates message currently pending</span>
<span class="nv">NT_FREEMSG</span>      <span class="k">EQU</span> <span class="mi">6</span>
<span class="nv">NT_REPLYMSG</span>     <span class="k">EQU</span> <span class="mi">7</span><span class="s">   </span><span class="c">; Message has been replied</span>
<span class="nv">NT_RESOURCE</span>     <span class="k">EQU</span> <span class="mi">8</span>
<span class="nv">NT_LIBRARY</span>      <span class="k">EQU</span> <span class="mi">9</span>
<span class="nv">NT_MEMORY</span>       <span class="k">EQU</span> <span class="mi">10</span>
<span class="nv">NT_SOFTINT</span>      <span class="k">EQU</span> <span class="mi">11</span><span class="s">  </span><span class="c">; Internal flag used by SoftInts</span>
<span class="nv">NT_FONT</span>         <span class="k">EQU</span> <span class="mi">12</span>
<span class="nv">NT_PROCESS</span>      <span class="k">EQU</span> <span class="mi">13</span><span class="s">  </span><span class="c">; AmigaDOS Process</span>
<span class="nv">NT_SEMAPHORE</span>    <span class="k">EQU</span> <span class="mi">14</span>
<span class="nv">NT_SIGNALSEM</span>    <span class="k">EQU</span> <span class="mi">15</span><span class="s">  </span><span class="c">; signal semaphores</span>
<span class="nv">NT_BOOTNODE</span>     <span class="k">EQU</span> <span class="mi">16</span>
<span class="nv">NT_KICKMEM</span>      <span class="k">EQU</span> <span class="mi">17</span>
<span class="nv">NT_GRAPHICS</span>     <span class="k">EQU</span> <span class="mi">18</span>
<span class="nv">NT_DEATHMESSAGE</span> <span class="k">EQU</span> <span class="mi">19</span>

<span class="nv">NT_USER</span>         <span class="k">EQU</span> <span class="mi">254</span><span class="s"> </span><span class="c">; User node types work down from here</span>
<span class="nv">NT_EXTENDED</span>     <span class="k">EQU</span> <span class="mi">255</span>
</pre></div>


<p>There is only one instruction left</p>
<div class="highlight"><pre><span></span><span class="m">000002d0: 60e2</span>                      <span class="k">bra.b</span>   <span class="mi">0x2b4</span>
</pre></div>


<p>which jumps back to the beginning of this short piece of code. The procedure then keeps looping on the whole table until it reaches the list terminator <code>0000</code>.</p>
<p>The final content of the memory at <code>0142</code> will be</p>
<div class="highlight"><pre><span></span><span class="m">00000142: 0000 0146</span> <span class="c">; LH_HEAD</span>
<span class="m">00000146: 0000 0000</span> <span class="c">; LH_TAIL</span>
<span class="m">0000014a: 0000 0146</span> <span class="c">; LH_TAILPRED</span>
<span class="m">0000014d: 0a</span>        <span class="c">; LH_TYPE</span>
</pre></div>


<p>And the same happens for the remaining 7 lists from <code>ResourceList</code> to <code>TaskWait</code>. After this the Exec lists are initialised.</p>
<p>According to the values of <code>LN_TYPE</code> the list headers table is the following</p>
<div class="highlight"><pre><span></span><span class="m">000002d2: 0142 000a</span> <span class="c">; MemList (NT_MEMORY)</span>
<span class="m">000002d6: 0150 0008</span> <span class="c">; ResourceList (NT_RESOURCE)</span>
<span class="m">000002da: 015e 0003</span> <span class="c">; DeviceList (NT_DEVICE)</span>
<span class="m">000002de: 017a 0009</span> <span class="c">; LibList (NT_LIBRARY)</span>
<span class="m">000002e2: 0188 0004</span> <span class="c">; PortList (NT_MSGPORT)</span>
<span class="m">000002e6: 0196 0001</span> <span class="c">; TaskReady (NT_TASK)</span>
<span class="m">000002ea: 01a4 0001</span> <span class="c">; TaskWait (NT_TASK)</span>
<span class="m">000002ee: 016c 0002</span> <span class="c">; IntrList (NT_INTERRUPT)</span>
<span class="m">000002f2: 01b2 000b</span> <span class="c">; SoftInts[0] (NT_SOFTINT)</span>
<span class="m">000002f6: 01c2 000b</span> <span class="c">; SoftInts[1] (NT_SOFTINT)</span>
<span class="m">000002fa: 01d2 000b</span> <span class="c">; SoftInts[2] (NT_SOFTINT)</span>
<span class="m">000002fe: 01e2 000b</span> <span class="c">; SoftInts[3] (NT_SOFTINT)</span>
<span class="m">00000302: 01f2 000b</span> <span class="c">; SoftInts[4] (NT_SOFTINT)</span>
<span class="m">00000306: 0214 000f</span> <span class="c">; SemaphoreList (NT_SIGNALSEM)</span>
<span class="m">0000030a: 0000</span>
</pre></div>


<h1 id="whats-next">What's next<a class="headerlink" href="#whats-next" title="Permanent link">&para;</a></h1>
<p>The next instalment of the series will cover the initial part of the system memory initialisation, both the standard one and potential expansions, introducing <code>AddMemList</code> for the first time. It will also discuss the origin of some important numbers used in the Kickstart code, <code>0x24c</code>, <code>0x400</code>, and <code>0x676</code>.</p>
<h1 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">&para;</a></h1>
<ul>
<li>Microprocessor-based system design by Ricardo Gutierrez-Osuna (<a href="http://courses.cs.tamu.edu/rgutier/ceg411_f01/">slides</a>), in particular <a href="http://courses.cs.tamu.edu/rgutier/ceg411_f01/l9.pdf">Lesson 9 - Exception processing</a></li>
<li>Motorola M68000 Family Programmer's Reference Manual <a href="https://www.nxp.com/docs/en/reference-manual/M68000PRM.pdf">PDF here</a></li>
</ul>
<h1 id="feedback">Feedback<a class="headerlink" href="#feedback" title="Permanent link">&para;</a></h1>
<p>Feel free to reach me on <a href="https://twitter.com/thedigicat">Twitter</a> if you have questions. The <a href="http://github.com/TheDigitalCatOnline/thedigitalcatonline.github.com/issues">GitHub issues</a> page is the best place to submit corrections.</p>
        </section>

<section id="related-posts">
    <h2>Related Posts</h2>
    <div class="box">
        <ul>
            <li><a href="http://blog.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-8/">Exploring the Amiga - Part 8</a></li>
            <li><a href="http://blog.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-7/">Exploring the Amiga - Part 7</a></li>
            <li><a href="http://blog.thedigitalcatonline.com/blog/2018/06/25/exploring-the-amiga-6/">Exploring the Amiga - Part 6</a></li>
            <li><a href="http://blog.thedigitalcatonline.com/blog/2018/06/14/exploring-the-amiga-4/">Exploring the Amiga - Part 4</a></li>
            <li><a href="http://blog.thedigitalcatonline.com/blog/2018/06/08/exploring-the-amiga-3/">Exploring the Amiga - Part 3</a></li>
        </ul>
    </div>
</section>
<section id="series">
    <h2>Part 5 of the Exploring the Amiga series</h2>
    <div class="box">
        <h5>Previous articles</h5>
        <ul>
            <li><a href="http://blog.thedigitalcatonline.com/blog/2018/05/28/exploring-the-amiga-1/">Exploring the Amiga - Part 1</a></li>
            <li><a href="http://blog.thedigitalcatonline.com/blog/2018/05/28/exploring-the-amiga-2/">Exploring the Amiga - Part 2</a></li>
            <li><a href="http://blog.thedigitalcatonline.com/blog/2018/06/08/exploring-the-amiga-3/">Exploring the Amiga - Part 3</a></li>
            <li><a href="http://blog.thedigitalcatonline.com/blog/2018/06/14/exploring-the-amiga-4/">Exploring the Amiga - Part 4</a></li>
        </ul>
    
        <h5>Next articles</h5>
        <ul>
            <li><a href="http://blog.thedigitalcatonline.com/blog/2018/06/25/exploring-the-amiga-6/">Exploring the Amiga - Part 6</a></li>
            <li><a href="http://blog.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-7/">Exploring the Amiga - Part 7</a></li>
            <li><a href="http://blog.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-8/">Exploring the Amiga - Part 8</a></li>
        </ul>
    </div>
</section>
    </article>


                        </div>
                    </div>

                <!-- Sidebar -->
                    <div id="sidebar">
<div class="inner">
    <!-- Menu -->
    <nav id="menu">
        <header class="major">
            <h2>Menu</h2>
        </header>
        <ul>
            <li><a href="http://blog.thedigitalcatonline.com/">Homepage</a></li>
            <li><a href="http://blog.thedigitalcatonline.com/pages/about.html">About</a></li>
            <li><a href="http://blog.thedigitalcatonline.com/archives/">Archives</a></li>
        </ul>
    </nav>

    <!-- Feeds -->
<section>
    <header class="major">
        <h2>Feeds</h2>
    </header>
    <ul class="list-clean">
        <li><a href="http://blog.thedigitalcatonline.com/atom.xml"><i class="fa fa-rss"></i> All posts</a></li>


        <li><a href="http://blog.thedigitalcatonline.com/category/retro/atom.xml"><i class="fa fa-rss"></i> All posts in category: Retro</a></li>
    </ul>
</section>
    <!-- Recent posts -->
<section>
    <header class="major">
        <h2>Recent posts</h2>
    </header>
    <div class="mini-posts">
        <article>
            Exploring the Amiga - Part 8
            <a href="http://blog.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-8/"> Read</a>
        </article>
        <article>
            Exploring the Amiga - Part 7
            <a href="http://blog.thedigitalcatonline.com/blog/2019/02/19/exploring-the-amiga-7/"> Read</a>
        </article>
        <article>
            Clean Architectures in Python: the book
            <a href="http://blog.thedigitalcatonline.com/blog/2018/12/20/cabook/"> Read</a>
        </article>
        <article>
            Useful pytest command line options
            <a href="http://blog.thedigitalcatonline.com/blog/2018/07/05/useful-pytest-command-line-options/"> Read</a>
        </article>
        <article>
            Exploring the Amiga - Part 6
            <a href="http://blog.thedigitalcatonline.com/blog/2018/06/25/exploring-the-amiga-6/"> Read</a>
        </article>
    </div>
</section>
    <!-- Tags -->
<section>
    <header class="major">
        <h2>Tags</h2>
    </header>
    <ul class="list-inline list-clean" id="tags-side">
        <li class="tag-3">
            <a href="http://blog.thedigitalcatonline.com/categories/algorithms/">algorithms</a>
        </li>
        <li class="tag-2">
            <a href="http://blog.thedigitalcatonline.com/categories/amiga/">amiga</a>
        </li>
        <li class="tag-4">
            <a href="http://blog.thedigitalcatonline.com/categories/amqp/">AMQP</a>
        </li>
        <li class="tag-3">
            <a href="http://blog.thedigitalcatonline.com/categories/architectures/">architectures</a>
        </li>
        <li class="tag-2">
            <a href="http://blog.thedigitalcatonline.com/categories/assembly/">assembly</a>
        </li>
        <li class="tag-2">
            <a href="http://blog.thedigitalcatonline.com/categories/c/">C</a>
        </li>
        <li class="tag-4">
            <a href="http://blog.thedigitalcatonline.com/categories/clojure/">Clojure</a>
        </li>
        <li class="tag-2">
            <a href="http://blog.thedigitalcatonline.com/categories/compilers/">compilers</a>
        </li>
        <li class="tag-2">
            <a href="http://blog.thedigitalcatonline.com/categories/concurrent-programming/">concurrent programming</a>
        </li>
        <li class="tag-4">
            <a href="http://blog.thedigitalcatonline.com/categories/cryptography/">cryptography</a>
        </li>
        <li class="tag-2">
            <a href="http://blog.thedigitalcatonline.com/categories/decorators/">decorators</a>
        </li>
        <li class="tag-3">
            <a href="http://blog.thedigitalcatonline.com/categories/django/">Django</a>
        </li>
        <li class="tag-3">
            <a href="http://blog.thedigitalcatonline.com/categories/erlang/">Erlang</a>
        </li>
        <li class="tag-1">
            <a href="http://blog.thedigitalcatonline.com/categories/functional-programming/">functional programming</a>
        </li>
        <li class="tag-3">
            <a href="http://blog.thedigitalcatonline.com/categories/generators/">generators</a>
        </li>
        <li class="tag-3">
            <a href="http://blog.thedigitalcatonline.com/categories/git/">Git</a>
        </li>
        <li class="tag-2">
            <a href="http://blog.thedigitalcatonline.com/categories/metaclasses/">metaclasses</a>
        </li>
        <li class="tag-2">
            <a href="http://blog.thedigitalcatonline.com/categories/metaprogramming/">metaprogramming</a>
        </li>
        <li class="tag-3">
            <a href="http://blog.thedigitalcatonline.com/categories/notebook/">Notebook</a>
        </li>
        <li class="tag-1">
            <a href="http://blog.thedigitalcatonline.com/categories/oop/">OOP</a>
        </li>
        <li class="tag-2">
            <a href="http://blog.thedigitalcatonline.com/categories/operating-systems/">operating systems</a>
        </li>
        <li class="tag-4">
            <a href="http://blog.thedigitalcatonline.com/categories/pika/">Pika</a>
        </li>
        <li class="tag-4">
            <a href="http://blog.thedigitalcatonline.com/categories/postage/">Postage</a>
        </li>
        <li class="tag-1">
            <a href="http://blog.thedigitalcatonline.com/categories/python/">Python</a>
        </li>
        <li class="tag-2">
            <a href="http://blog.thedigitalcatonline.com/categories/python2/">Python2</a>
        </li>
        <li class="tag-1">
            <a href="http://blog.thedigitalcatonline.com/categories/python3/">Python3</a>
        </li>
        <li class="tag-3">
            <a href="http://blog.thedigitalcatonline.com/categories/rabbitmq/">RabbitMQ</a>
        </li>
        <li class="tag-4">
            <a href="http://blog.thedigitalcatonline.com/categories/refactoring/">refactoring</a>
        </li>
        <li class="tag-2">
            <a href="http://blog.thedigitalcatonline.com/categories/retroprogramming/">retroprogramming</a>
        </li>
        <li class="tag-4">
            <a href="http://blog.thedigitalcatonline.com/categories/rsa/">RSA</a>
        </li>
        <li class="tag-1">
            <a href="http://blog.thedigitalcatonline.com/categories/scala/">Scala</a>
        </li>
        <li class="tag-4">
            <a href="http://blog.thedigitalcatonline.com/categories/ssh/">SSH</a>
        </li>
        <li class="tag-4">
            <a href="http://blog.thedigitalcatonline.com/categories/ssl/">SSL</a>
        </li>
        <li class="tag-1">
            <a href="http://blog.thedigitalcatonline.com/categories/tdd/">TDD</a>
        </li>
        <li class="tag-1">
            <a href="http://blog.thedigitalcatonline.com/categories/testing/">testing</a>
        </li>
        <li class="tag-3">
            <a href="http://blog.thedigitalcatonline.com/categories/versioning/">versioning</a>
        </li>
    </ul>
</section>
    <!-- Section -->
<section>
    <header class="major">
        <h2>Get in touch</h2>
    </header>
    <ul class="list-clean" id="social">
        
        
        
        <li class="list-item-spaced"><a href="https://twitter.com/thedigicat"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
        
        
        
        
        <li class="list-item-spaced"><a href="https://plus.google.com/u/0/111444750762335924049"><i class="fa fa-google-plus-square fa-lg"></i> Google+</a></li>
        
        
        
        
        <li class="list-item-spaced"><a href="https://github.com/TheDigitalCatOnline"><i class="fa fa-github-square fa-lg"></i> GitHub</a></li>
        
    </ul>
</section>
    <!-- Footer -->
    <footer id="footer">
        <p class="copyright">Editorial theme by: <a href="https://html5up.net">HTML5 UP</a>.</p>
    </footer>

</div>                    </div>

            </div>

        <!-- Scripts -->
            <script src="http://blog.thedigitalcatonline.com/theme/js/jquery.min.js"></script>
            <script src="http://blog.thedigitalcatonline.com/theme/js/skel.min.js"></script>
            <script src="http://blog.thedigitalcatonline.com/theme/js/util.js"></script>
            <!--[if lte IE 8]><script src="http://blog.thedigitalcatonline.com/theme/js/ie/respond.min.js"></script><![endif]-->
            <script src="http://blog.thedigitalcatonline.com/theme/js/main.js"></script>

    </body>
</html>